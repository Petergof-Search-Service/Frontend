# Frontend ‚Äî –ù–∞—É—á–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React) –¥–ª—è RAG-—Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ –ø–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –ü–µ—Ç–µ—Ä–≥–æ—Ñ–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–¥–∞—é—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É, –ø–æ–ª—É—á–∞—é—Ç –æ—Ç–≤–µ—Ç—ã –∏ –º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∏—Ö (–ª–∞–π–∫/–¥–∏–∑–ª–∞–π–∫ —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è).

## –ß—Ç–æ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ

- **–°—Ç–µ–∫:** React 18, React Router 6, React Bootstrap, Bootstrap 5, Axios.
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –≤—Ö–æ–¥ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ email/–ø–∞—Ä–æ–ª—é, JWT (access + refresh) –≤ `localStorage`, –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã.
- **–†–æ–ª–∏:** –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (—á–∞—Ç, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏) –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∑–∞–≥—Ä—É–∑–∫–∞ PDF, —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤).
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
  - `/login`, `/register` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è;
  - `/chat` ‚Äî –≤—ã–±–æ—Ä –∏–Ω–¥–µ–∫—Å–∞, –≤–æ–ø—Ä–æ—Å—ã –∫ RAG, –æ—Ç–≤–µ—Ç—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ üëç/üëé –∏ —Å–ø–æ–π–ª–µ—Ä–æ–º ¬´–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö¬ª;
  - `/settings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
  - `/file` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ PDF (OCR), —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞;
  - `/create_index` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞.
- **API:** –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±—ç–∫–µ–Ω–¥—É –∏–¥—É—Ç –Ω–∞ `REACT_APP_API_URL` (–æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∏–Ω–¥–µ–∫—Å—ã, —Ñ–∞–π–ª—ã, —Ç–æ–∫–µ–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –æ—Ç–∑—ã–≤—ã).
- **–¢–µ–º–∞:** —Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è (ThemeContext), –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ —à–∞–ø–∫–µ.
- **–°–±–æ—Ä–∫–∞:** Create React App, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `build/`.

## –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install
   ```

2. –ó–∞–¥–∞—Ç—å URL –±—ç–∫–µ–Ω–¥–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API):
   ```bash
   export REACT_APP_API_URL=http://localhost:8000/api/v1
   ```
   –õ–∏–±–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```
   REACT_APP_API_URL=http://localhost:8000/api/v1
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm start
   ```
   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:3000.

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
npm run build
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–ø–∫–µ `build/`.

## CI/CD

Workflow (`.github/workflows/ci.yml`) –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—É—à–µ –≤ –ª—é–±—É—é –≤–µ—Ç–∫—É –∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ PR –≤ `main`.

- **Test** ‚Äî –Ω–∞ –∫–∞–∂–¥–æ–º —Å–æ–±—ã—Ç–∏–∏: `npm ci`, `npm run test:ci`.
- **Build and push (–ø—Ä–æ–¥)** ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—É—à–µ –≤ `main`: —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞, —Ç–µ–≥–∏ `latest`/`stable`/sha, push –≤ ghcr.io, –≤—ã–∑–æ–≤ Infra `frontend-updated` ‚Üí –¥–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥.
- **Build and push (—Ç–µ—Å—Ç)** ‚Äî –ø—Ä–∏ –ø—É—à–µ –≤ –ª—é–±—É—é –≤–µ—Ç–∫—É, –∫—Ä–æ–º–µ `main`: —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ —Å —Ç–µ–≥–æ–º `branch-shortSha`, push –≤ ghcr.io, –≤—ã–∑–æ–≤ Infra `frontend-test-updated` ‚Üí –¥–µ–ø–ª–æ–π –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (–≤ —Ç.—á. –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö –≤ PR).

**–°–µ–∫—Ä–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Frontend:** `INFRA_REPO_TOKEN` ‚Äî **–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω (PAT)**, –Ω–µ `GITHUB_TOKEN`. –¢–æ–∫–µ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens, —Å –ø—Ä–∞–≤–æ–º `repo`; –≤–ª–∞–¥–µ–ª–µ—Ü —Ç–æ–∫–µ–Ω–∞ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–æ –∑–∞–ø—É—Å–∫–∞—Ç—å workflow –≤ —Ä–µ–ø–æ Infra. –ï—Å–ª–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ dispatch –ø—Ä–∏—Ö–æ–¥–∏—Ç 401 ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ –∑–∞–¥–∞–Ω, –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ Infra.

–û–±—Ä–∞–∑—ã –ø—É—à–∞—Ç—Å—è –≤ **GitHub Container Registry (ghcr.io)**. –ü–∞–∫–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–≤–∞—Ç–Ω—ã–π. –ï—Å–ª–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å ¬´Public¬ª –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º), –æ–±—Ä–∞–∑ —Ç–∞–∫ –∏ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º ‚Äî –≤ —Ä–µ–ø–æ Infra –¥–ª—è pull –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–µ–∫—Ä–µ—Ç—ã `GHCR_TOKEN` –∏ `GHCR_USERNAME` (–ª–æ–≥–∏–Ω –≤ ghcr.io –ø–æ SSH –ø–µ—Ä–µ–¥ `docker compose pull`).

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å

1. **–°—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è**
   - –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000 ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login` (–µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) –∏–ª–∏ –Ω–∞ `/chat`.
   - –í–æ–π—Ç–∏ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è ‚Äî –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/chat`.
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é: –ß–∞—Ç, –ù–∞—Å—Ç—Ä–æ–π–∫–∏; –¥–ª—è –∞–¥–º–∏–Ω–∞ ‚Äî ¬´–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª¬ª, ¬´–°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å¬ª.
   - –í—ã–π—Ç–∏ ‚Äî –∫–Ω–æ–ø–∫–∞ ¬´–í—ã–π—Ç–∏¬ª –≤ —à–∞–ø–∫–µ, –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`.

2. **–ß–∞—Ç**
   - –í—ã–±—Ä–∞—Ç—å –∏–Ω–¥–µ–∫—Å –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ (–µ—Å–ª–∏ –∏–Ω–¥–µ–∫—Å—ã –µ—Å—Ç—å).
   - –í–≤–µ—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Äî –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –æ—Ç–≤–µ—Ç; –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–º –æ—Ç–≤–µ—Ç–µ ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ¬´–î—É–º–∞—é...¬ª.
   - –ù–∞–∂–∞—Ç—å üëç/üëé —É –æ—Ç–≤–µ—Ç–∞; –ø—Ä–∏ üëé ‚Äî —Ñ–æ—Ä–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
   - –û—Ç–∫—Ä—ã—Ç—å ¬´–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö¬ª ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–ª–æ–∫ —Å ¬´–¢–µ–∫—Å—Ç 1¬ª –∏ —Ç.–¥.

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
   - –û—Ç–∫—Ä—ã—Ç—å `/settings` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–æ—Ä–º–∞) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ API.

4. **–ê–¥–º–∏–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∞–≤–∞)**
   - `/file` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ PDF –¥–æ 50 –ú–ë, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏.
   - `/create_index` ‚Äî –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞, –≤–≤–æ–¥ –∏–º–µ–Ω–∏ –∏–Ω–¥–µ–∫—Å–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞.

5. **–¢–µ–º–∞**
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É –∫–Ω–æ–ø–∫–æ–π –≤ —à–∞–ø–∫–µ ‚Äî –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è, –≤—ã–±–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `localStorage`.

6. **–û—à–∏–±–∫–∏ –∏ —Å–µ—Ç—å**
   - –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ª–æ–≥–∏–Ω–µ/–ø–∞—Ä–æ–ª–µ ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.
   - –ü—Ä–∏ –æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–º –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º –±—ç–∫–µ–Ω–¥–µ ‚Äî –æ—à–∏–±–∫–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (—á–∞—Ç, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç.–¥.).

–î–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω—É–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—é—â–∏–π –±—ç–∫–µ–Ω–¥ –ø–æ –∞–¥—Ä–µ—Å—É, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ `REACT_APP_API_URL`.
